datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client-js"
}

model User {
    id       Int    @id @default(autoincrement())
    email    String @unique
    username String @unique
    password String
    teams    Team[]
}

model Team {
    id      Int       @id @default(autoincrement())
    name    String    @unique
    abrv    String    @unique
    user    User      @relation(fields: [userid], references: [id])
    userid  Int
    Account Account[]
}

model Account {
    id        Int       @id @default(autoincrement())
    username  String    @unique
    team      Team      @relation(fields: [teamid], references: [id])
    teamid    Int
    Comment   Comment[]
    status    Boolean
    DMs       DMs[]
    headers   String    @db.Text
    updatedAt DateTime  @default(now())
}

model Comment {
    id           Int      @id @default(autoincrement())
    comment_id   String   @unique
    commented_by String
    account      Account  @relation(fields: [accountid], references: [id])
    accountid    Int
    timestamp    DateTime
    comment      String   @db.Text
    post_id      String
}

model DMs {
    id        Int       @id @default(autoincrement())
    item_id   String    @unique
    dm_text   String
    account   Account   @relation(fields: [accountid], references: [id])
    accountid Int
    sentto    String    @db.Text
    timestamp DateTime
    date      DateTime?
}
